{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8083/api/v1","description":"Generated server url"}],"tags":[{"name":"Health Insurance","description":"Health Insurance management endpoints"},{"name":"Coverage Plan","description":"Coverage Plan management endpoints"},{"name":"Patient Insurance","description":"Operations related to Patient Insurance "}],"paths":{"/patientInsurance/create":{"post":{"tags":["Patient Insurance"],"summary":"Create a new Patient Insurance","operationId":"createPatientInsurance","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatientInsuranceCreateDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PatientInsuranceCreateResponseDto"}}}}}}},"/coveragePlan/create":{"post":{"tags":["Coverage Plan"],"summary":"Create a new Coverage Plan","operationId":"createCoveragePlan","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoveragePlanCreateDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CoveragePlanResponseDto"}}}}}}},"/api/v1/health-insurances":{"post":{"tags":["Health Insurance"],"summary":"Create a new health insurance","operationId":"createHealthInsurance","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthInsuranceCreateDto"}}},"required":true},"responses":{"201":{"description":"Health insurance created successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/HealthInsuranceResponseDto"}}}}}}},"/patientInsurance/update/{patientInsuranceId}":{"patch":{"tags":["Patient Insurance"],"summary":"Update Patient Insurance's coverage plan","description":"Update Patient Insurance's coverage plan using patient id and the new coverage plan's id","operationId":"updatePatientInsuranceCoveragePlanById","parameters":[{"name":"patientInsuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"integer","format":"int64"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PatientInsuranceResponseDto"}}}}}}},"/patientInsurance/softDelete/{patientInsuranceId}":{"patch":{"tags":["Patient Insurance"],"summary":"Deactivate Patient Insurance by id","operationId":"softDeletePatientInsuranceById","parameters":[{"name":"patientInsuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/patientInsurance/activate/{patientInsuranceId}":{"patch":{"tags":["Patient Insurance"],"summary":"Activate Patient Insurance","operationId":"activatePatientInsuranceById","parameters":[{"name":"patientInsuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/coveragePlan/update/{id}":{"patch":{"tags":["Coverage Plan"],"summary":"Update Coverage Plan by id","operationId":"updateCoveragePlanById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoveragePlanUpdateDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CoveragePlanResponseDto"}}}}}}},"/coveragePlan/softDelete/{id}":{"patch":{"tags":["Coverage Plan"],"summary":"Deactivate Coverage Plan by id","operationId":"softDeleteCoveragePlanById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/health-insurances/{insuranceId}":{"delete":{"tags":["Health Insurance"],"summary":"Permanently delete a health insurance","operationId":"deleteHealthInsuranceById","parameters":[{"name":"insuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Health insurance deleted successfully"}}},"patch":{"tags":["Health Insurance"],"summary":"Update an existing health insurance","operationId":"updateHealthInsuranceById","parameters":[{"name":"insuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthInsuranceUpdateDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/HealthInsuranceResponseDto"}}}}}}},"/api/v1/health-insurances/{insuranceId}/deactivate":{"patch":{"tags":["Health Insurance"],"summary":"Soft delete (deactivate) a health insurance","operationId":"softDeleteHealthInsuranceById","parameters":[{"name":"insuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/health-insurances/{insuranceId}/activate":{"patch":{"tags":["Health Insurance"],"summary":"Activate a health insurance","operationId":"activateHealthInsuranceById","parameters":[{"name":"insuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/patientInsurance/patientDni/{dni}":{"get":{"tags":["Patient Insurance"],"summary":"Get Patient Insurance by dni","operationId":"findPatientInsuranceByPatientDni","parameters":[{"name":"dni","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PatientInsuranceResponseDto"}}}}}}}},"/patientInsurance/id/{patientInsuranceId}":{"get":{"tags":["Patient Insurance"],"summary":"Get Patient Insurance by Health Insurance id","operationId":"findPatientInsuranceById","parameters":[{"name":"patientInsuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PatientInsuranceResponseDto"}}}}}}},"/patientInsurance/healthInsurance/{healthInsuranceId}":{"get":{"tags":["Patient Insurance"],"summary":"Get Patient Insurance by Health Insurance id","operationId":"findPatientInsuranceByHealthInsurance","parameters":[{"name":"healthInsuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PatientInsuranceResponseDto"}}}}}}}},"/patientInsurance/credentialNumber/{credentialNumber}":{"get":{"tags":["Patient Insurance"],"summary":"Get Patient Insurance by credential number","operationId":"findPatientInsuranceByCredentialNumber","parameters":[{"name":"credentialNumber","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PatientInsuranceResponseDto"}}}}}}},"/patientInsurance/createdAt/{date}":{"get":{"tags":["Patient Insurance"],"summary":"Get Patient Insurance by created date","operationId":"findPatientInsuranceByCreatedAt","parameters":[{"name":"date","in":"path","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PatientInsuranceResponseDto"}}}}}}}},"/patientInsurance/createdAfter/{date}":{"get":{"tags":["Patient Insurance"],"summary":"Get Patient Insurance after specific date","operationId":"findPatientInsuranceByCreatedAfterDate","parameters":[{"name":"date","in":"path","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PatientInsuranceResponseDto"}}}}}}}},"/patientInsurance/coveragePlan/{coveragePlanId}":{"get":{"tags":["Patient Insurance"],"summary":"Get Patient Insurance by Coverage Plan id","operationId":"findPatientInsuranceByCoveragePlanId","parameters":[{"name":"coveragePlanId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PatientInsuranceResponseDto"}}}}}}}},"/patientInsurance/active/countPatients/{insuranceId}":{"get":{"tags":["Patient Insurance"],"summary":"Count active Patients by Health Insurance id","operationId":"countActivePatientsByInsuranceId","parameters":[{"name":"insuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int32"}}}}}}},"/coveragePlan/{id}":{"get":{"tags":["Coverage Plan"],"summary":"Get Coverage Plan by id ","operationId":"findCoveragePlanById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CoveragePlanResponseDto"}}}}}}},"/coveragePlan/name/{name}":{"get":{"tags":["Coverage Plan"],"summary":"Get Coverage Plan by name","operationId":"findCoveragePlanByName","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CoveragePlanResponseDto"}}}}}}},"/coveragePlan/healthInsurance/{healthInsuranceId}":{"get":{"tags":["Coverage Plan"],"summary":"Get all Coverage Plan by Health Insurance id ","operationId":"findByHealthInsuranceId","parameters":[{"name":"healthInsuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CoveragePlanResponseDto"}}}}}}}},"/coveragePlan/count/activePlans":{"get":{"tags":["Coverage Plan"],"summary":"Count active Coverage Plans","operationId":"countActivePlans","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int32"}}}}}}},"/coveragePlan/count/active/healthInsurance/{healthInsuranceId}":{"get":{"tags":["Coverage Plan"],"summary":"Count active Coverage Plans by health insurance","operationId":"countActivePlanByHealthInsurance","parameters":[{"name":"healthInsuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int32"}}}}}}},"/coveragePlan/active/healthInsurance/{healthInsuranceId}":{"get":{"tags":["Coverage Plan"],"summary":"Get all actives Coverage Plan by Health Insurance id ","operationId":"findByHealthInsuranceIdAndIsActiveTrue","parameters":[{"name":"healthInsuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CoveragePlanResponseDto"}}}}}}}},"/api/v1/health-insurances/{insuranceId}/patients":{"get":{"tags":["Health Insurance"],"summary":"Get all patients for a health insurance","operationId":"findPatientsByInsuranceId","parameters":[{"name":"insuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PatientInsuranceResponseDto"}}}}}}}},"/api/v1/health-insurances/{insuranceId}/coverage-plans":{"get":{"tags":["Health Insurance"],"summary":"Get all coverage plans for a health insurance","operationId":"findCoveragePlans","parameters":[{"name":"insuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CoveragePlanResponseDto"}}}}}}}},"/api/v1/health-insurances/{insuranceId}/active-plans-count":{"get":{"tags":["Health Insurance"],"summary":"Count active coverage plans for a health insurance","operationId":"countActivePlans_1","parameters":[{"name":"insuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int32"}}}}}}},"/api/v1/health-insurances/{insuranceId}/active-patients-count":{"get":{"tags":["Health Insurance"],"summary":"Count active patients for a health insurance","operationId":"countActivePatients","parameters":[{"name":"insuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int32"}}}}}}},"/api/v1/health-insurances/{id}":{"get":{"tags":["Health Insurance"],"summary":"Get health insurance by ID","operationId":"findHealthInsuranceById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/HealthInsuranceResponseDto"}}}}}}},"/api/v1/health-insurances/search":{"get":{"tags":["Health Insurance"],"summary":"Search health insurances by name","operationId":"searchByName","parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HealthInsuranceResponseDto"}}}}}}}},"/api/v1/health-insurances/phone/{phoneNumber}":{"get":{"tags":["Health Insurance"],"summary":"Get health insurance by phone number","operationId":"findHealthInsuranceByPhoneNumber","parameters":[{"name":"phoneNumber","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/HealthInsuranceResponseDto"}}}}}}},"/api/v1/health-insurances/email/{email}":{"get":{"tags":["Health Insurance"],"summary":"Get health insurance by email","operationId":"findHealthInsuranceByEmail","parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/HealthInsuranceResponseDto"}}}}}}},"/api/v1/health-insurances/company-name/{companyName}":{"get":{"tags":["Health Insurance"],"summary":"Get health insurance by company name","operationId":"findHealthInsuranceByCompanyName","parameters":[{"name":"companyName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/HealthInsuranceResponseDto"}}}}}}},"/api/v1/health-insurances/company-code/{companyCode}":{"get":{"tags":["Health Insurance"],"summary":"Get health insurance by company code","operationId":"findHealthInsuranceByCompanyCode","parameters":[{"name":"companyCode","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/HealthInsuranceResponseDto"}}}}}}},"/patientInsurance/delete/{patientInsuranceId}":{"delete":{"tags":["Patient Insurance"],"summary":"Delete Patient Insurance by id","operationId":"deletePatientInsuranceById","parameters":[{"name":"patientInsuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/coveragePlan/delete/{id}":{"delete":{"tags":["Coverage Plan"],"summary":"Delete Coverage Plan by Id","operationId":"deleteCoveragePlanById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"PatientInsuranceCreateDto":{"required":["coveragePlanId","credentialNumber","healthInsuranceId","patientDni"],"type":"object","properties":{"patientDni":{"type":"string","description":"Patient's national identification number","example":"12345678"},"credentialNumber":{"type":"string","description":"Insurance credential number","example":"CRED-2024-001"},"healthInsuranceId":{"type":"integer","description":"Health insurance company identifier","format":"int64"},"coveragePlanId":{"type":"integer","description":"Coverage plan identifier","format":"int64"}},"description":"DTO to represent requests to create Patient Insurance Entity"},"PatientInsuranceCreateResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"patientDni":{"type":"string"},"patientFirstName":{"type":"string"},"patientLastName":{"type":"string"},"patientEmail":{"type":"string"},"credentialNumber":{"type":"string"},"healthInsuranceId":{"type":"integer","format":"int64"},"coveragePlanId":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date"},"isActive":{"type":"boolean"}}},"CoveragePlanCreateDto":{"required":["coverageValue","description","healthInsuranceId","name"],"type":"object","properties":{"healthInsuranceId":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"},"coverageValue":{"maximum":100.00,"exclusiveMaximum":false,"minimum":0.00,"exclusiveMinimum":false,"type":"number","description":"Value between 0.00 and 100.00","example":75.0}},"description":"Dto to represent requests to create Coverage Plan Entity."},"CoveragePlanResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"healthInsuranceId":{"type":"integer","format":"int64"},"healthInsuranceName":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"coverageValuePercentage":{"type":"number"},"isActive":{"type":"boolean"}}},"HealthInsuranceCreateDto":{"required":["companyCode","companyName","email","phoneNumber"],"type":"object","properties":{"companyName":{"maxLength":50,"minLength":5,"type":"string","description":"Name of the insurance company","example":"Blue Cross Health Insurance"},"companyCode":{"type":"integer","description":"Unique company identification code","format":"int64","example":12345},"phoneNumber":{"pattern":"^\\+[1-9]\\d{1,14}$","type":"string","description":"Contact phone number in international format","example":"+5491112345678"},"email":{"type":"string","description":"Contact email address","example":"contact@insurance.com"}},"description":"DTO for creating a new Health Insurance entity"},"HealthInsuranceResponseDto":{"type":"object","properties":{"id":{"type":"integer","description":"Unique identifier","format":"int64","example":1},"companyName":{"type":"string","description":"Insurance company name","example":"Blue Cross Health Insurance"},"companyCode":{"type":"integer","description":"Company identification code","format":"int64","example":12345},"phoneNumber":{"type":"string","description":"Contact phone number","example":"+5491112345678"},"email":{"type":"string","description":"Contact email address","example":"contact@insurance.com"},"isActive":{"type":"boolean","description":"Indicates if the insurance is active","example":true}},"description":"DTO for Health Insurance entity responses"},"PatientInsuranceResponseDto":{"type":"object","properties":{"id":{"type":"integer","description":"Patient insurance unique identifier","format":"int64"},"patientDni":{"type":"string","description":"Patient unique identifier"},"credentialNumber":{"type":"string","description":"Insurance credential number"},"healthInsuranceId":{"type":"integer","description":"Health insurance company identifier","format":"int64"},"healthInsuranceName":{"type":"string","description":"Health insurance company name"},"coveragePlanId":{"type":"integer","description":"Coverage plan identifier","format":"int64"},"coveragePlanName":{"type":"string","description":"Coverage plan name"},"createdAt":{"type":"string","description":"Record creation date","format":"date"},"isActive":{"type":"boolean","description":"Insurance active status"}},"description":"Response with patient insurance information"},"CoveragePlanUpdateDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"coverageValuePercentage":{"maximum":100.00,"exclusiveMaximum":false,"minimum":0.00,"exclusiveMinimum":false,"type":"number"}}},"HealthInsuranceUpdateDto":{"type":"object","properties":{"companyName":{"maxLength":50,"minLength":5,"type":"string","description":"Updated company name","example":"Blue Cross Health Insurance"},"companyCode":{"type":"integer","description":"Updated company code","format":"int64","example":12345},"phoneNumber":{"pattern":"^\\+[1-9]\\d{1,14}$","type":"string","description":"Updated phone number","example":"+5491112345678"},"email":{"type":"string","description":"Updated email address","example":"contact@insurance.com"}},"description":"DTO for updating an existing Health Insurance entity"}}}}