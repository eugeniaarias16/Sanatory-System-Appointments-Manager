{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8081/api/v1","description":"Generated server url"}],"tags":[{"name":"Appointment Type","description":"Appointment Type management endpoints"},{"name":"Appointment","description":"Appointment management endpoints"}],"paths":{"/appointmentTypes":{"post":{"tags":["Appointment Type"],"summary":"Creating new Appointment Type","operationId":"createAppointmentType","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentTypeCreateDto"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppointmentTypeResponseDto"}}}}}}},"/appointment/create":{"post":{"tags":["Appointment"],"summary":"Create Appointment ","operationId":"createAppointment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentCreateDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppointmentCreateResponseDto"}}}}}}},"/appointmentTypes/{id}":{"get":{"tags":["Appointment Type"],"summary":"Get Appointment Type by id","operationId":"findAppointmentTypeById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppointmentTypeResponseDto"}}}}}},"delete":{"tags":["Appointment Type"],"summary":"Delete Appointment Type by id","operationId":"deleteAppointmentType","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"No Content"}}},"patch":{"tags":["Appointment Type"],"summary":"Update Appointment Type by id","operationId":"updateAppointmentType","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentTypeUpdateDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppointmentTypeResponseDto"}}}}}}},"/appointment/cancel":{"patch":{"tags":["Appointment"],"summary":"Cancel Appointment by patient id, doctor id and date","operationId":"cancelAppointmentByPatientIdAndDoctorIdAndDate","parameters":[{"name":"patientId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"doctorId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"date","in":"query","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/appointment/cancel/{id}":{"patch":{"tags":["Appointment"],"summary":"Cancel Appointment by id","operationId":"cancelAppointmentById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/appointmentTypes/search/price-range":{"get":{"tags":["Appointment Type"],"summary":"Get Appointment Type by range price","operationId":"findAppointmentTypeByRangeBasePrice","parameters":[{"name":"minPrice","in":"query","required":true,"schema":{"type":"number"}},{"name":"maxPrice","in":"query","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentTypeResponseDto"}}}}}}}},"/appointmentTypes/search/name":{"get":{"tags":["Appointment Type"],"summary":"Get Appointment Type by containing the name","operationId":"findAppointmentTypeByLikeName","parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentTypeResponseDto"}}}}}}}},"/appointmentTypes/name/{name}":{"get":{"tags":["Appointment Type"],"summary":"Get Appointment Type by name","operationId":"findAppointmentTypeByName","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppointmentTypeResponseDto"}}}}}}},"/appointment/{id}":{"get":{"tags":["Appointment"],"summary":"Get Appointment by id","operationId":"findAppointmentById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}}}}},"/appointment/search-specific":{"get":{"tags":["Appointment"],"summary":"Get Appointment by patient id, doctor id and date","operationId":"findAppointmentByPatientIdAndDoctorIdAndDate","parameters":[{"name":"patientId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"doctorId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"date","in":"query","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}}}}},"/appointment/patient/{patientId}":{"get":{"tags":["Appointment"],"summary":"Get Appointment by patient id","operationId":"findByPatientId","parameters":[{"name":"patientId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}}}}}},"/appointment/patient/upcoming":{"get":{"tags":["Appointment"],"summary":"Get upcoming  Appointment by patient id","operationId":"findUpcomingAppointmentsByPatientId","parameters":[{"name":"patientId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"now","in":"query","required":true,"schema":{"type":"string","format":"date-time"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}}}}}},"/appointment/patient/search-date-range":{"get":{"tags":["Appointment"],"summary":"Get Appointment by patient id and range date","operationId":"findByPatientIdAndDateBetween","parameters":[{"name":"patientId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"startDate","in":"query","required":true,"schema":{"type":"string","format":"date-time"}},{"name":"endDate","in":"query","required":true,"schema":{"type":"string","format":"date-time"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}}}}}},"/appointment/patient/search-by-date":{"get":{"tags":["Appointment"],"summary":"Get Appointment by patient id and date","operationId":"findByPatientIdAndDate","parameters":[{"name":"patientId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"date","in":"query","required":true,"schema":{"type":"string","format":"date-time"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}}}}}},"/appointment/insurance/{insuranceId}":{"get":{"tags":["Appointment"],"summary":"Get Appointment by health insurance id","operationId":"findByPatientInsuranceId","parameters":[{"name":"insuranceId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}}}}}},"/appointment/doctor/{doctorId}":{"get":{"tags":["Appointment"],"summary":"Get Appointment by doctor id","operationId":"findByDoctorId","parameters":[{"name":"doctorId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}}}}}},"/appointment/doctor/today":{"get":{"tags":["Appointment"],"summary":"Get today Appointment by doctor id","operationId":"findTodayAppointmentsByDoctorId","parameters":[{"name":"doctorId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"today","in":"query","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}}}}}},"/appointment/doctor/search-date-range":{"get":{"tags":["Appointment"],"summary":"Get Appointment by doctor id and range date","operationId":"findByDoctorIdAndDateBetween","parameters":[{"name":"doctorId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"startDate","in":"query","required":true,"schema":{"type":"string","format":"date-time"}},{"name":"endDate","in":"query","required":true,"schema":{"type":"string","format":"date-time"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}}}}}},"/appointment/doctor/search-by-calendar":{"get":{"tags":["Appointment"],"summary":"Get Appointment by doctor calendar id and doctor id","operationId":"findByDoctorIdAndDoctorCalendarId","parameters":[{"name":"doctorId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"calendarId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}}}}}}},"components":{"schemas":{"AppointmentTypeCreateDto":{"required":["basePrice","bufferTimeMin","description","durationMin","name"],"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"durationMin":{"minimum":15,"type":"integer","format":"int32"},"bufferTimeMin":{"type":"integer","format":"int32"},"basePrice":{"minimum":1.0,"exclusiveMinimum":false,"type":"number"}}},"AppointmentTypeResponseDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"durationMin":{"type":"integer","format":"int32"},"bufferTimeMin":{"type":"integer","format":"int32"},"basePrice":{"type":"number"},"isActive":{"type":"boolean"}}},"AppointmentCreateDto":{"required":["appointmentTypeId","credentialNumber","date","doctorCalendarId","doctorId","patientDni"],"type":"object","properties":{"doctorId":{"type":"integer","format":"int64"},"patientDni":{"type":"string"},"appointmentTypeId":{"type":"integer","format":"int64"},"credentialNumber":{"type":"string","description":"Patient insurance credential number is mandatory "},"doctorCalendarId":{"type":"integer","description":"Doctor Calendar Id is mandatory","format":"int64"},"date":{"type":"string","format":"date-time"},"notes":{"maxLength":200,"minLength":0,"type":"string","description":"Additional notes (optional)"}}},"AppointmentCreateResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"doctorId":{"type":"integer","format":"int64"},"doctorFirstName":{"type":"string"},"doctorLastName":{"type":"string"},"patientId":{"type":"integer","format":"int64"},"patientFirstName":{"type":"string"},"patientLastName":{"type":"string"},"patientDni":{"type":"string"},"appointmentTypeName":{"type":"string"},"patientInsuranceId":{"type":"integer","format":"int64"},"date":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["SCHEDULED","CONFIRMED","CANCELLED","COMPLETED"]},"consultationCost":{"type":"number"},"coveragePercentage":{"type":"number"},"amountToPay":{"type":"number"},"notes":{"type":"string"},"createdAt":{"type":"string","format":"date"}}},"AppointmentTypeUpdateDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"durationMin":{"minimum":15,"type":"integer","format":"int32"},"bufferTimeMin":{"type":"integer","format":"int32"},"basePrice":{"minimum":1.0,"exclusiveMinimum":false,"type":"number"}}},"AppointmentResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"doctorId":{"type":"integer","format":"int64"},"patientId":{"type":"integer","format":"int64"},"appointmentTypeName":{"type":"string"},"patientInsuranceId":{"type":"integer","format":"int64"},"date":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["SCHEDULED","CONFIRMED","CANCELLED","COMPLETED"]},"consultationCost":{"type":"number"},"coveragePercentage":{"type":"number"},"amountToPay":{"type":"number"},"notes":{"type":"string"},"createdAt":{"type":"string","format":"date"}}}}}}